addmargins(MS_FC_Table)
prop.table(MS_FC_Table,margin=2)
#We see that people who see their friends once a week regard the society as most meaningful.
chisq.test(MS_FC_Table, correct=F)
#p-value<0.05, reject the null hypothsis.
#Check assumption
MS.FC.test<-chisq.test(MS_FC_Table, correct=F)
MS.FC.test$expected
#All expected cell counts are > 5, so conditions are satisfied for valid inference.
#②quantitative response variable and categorical explanatory variable with several levels
#test:ANOVA
#check conditions: whether the distribution of scores measuring meaningfulness is approximately normal in each group
#and the variance of scores is approximately equal in each group.
boxplot(MIDUS$MS~MIDUS$FrndCF)
summarySE(data=MIDUS,measurevar = "MS",groupvars = "FrndCF")
#The boxplot and summary statistics show similar spread in scores between groups.
#The large sample size of scores satisfies the condition of a approximately normal distribution.
anova.frndcf <- aov(MIDUS$MS~MIDUS$FrndCF)
summary(anova.frndcf)
#p-value=0.0003, reject the null hypothsis and conclude that at least one mean differs from the others.
#Conduct multiple pairwise test to see which pairs of means differ.
TukeyHSD(anova.frndcf)
plot(TukeyHSD(anova.frndcf))
#Among the many comparisons, three show significant difference in the means.
#People never or hardly ever contact with friends have significant lower average score (less meaningful) than that of people who contact with friends several times a day.
#People never or hardly ever contact with friends have significant lower average score (less meaningful) than that of people who contact with friends about once a day.
#People never or hardly ever contact with friends have significant lower average score (less meaningful) than that of people who contact with friends several times a week.
#c) What is the association between household income and meaningfulness of society?
#①quantitative response variable and a quantitative explanatory variable
#test:linear regression
m1<-lm(MIDUS$MS~MIDUS$HI)
summary(m1)
#add regression line
abline(m1)
#obtain confidence intervals for the regression coefficients
confint(m1)
#②dichotomized response variable and quantitative explanatory variable
#test: two-sample t-test
#Check assumption: the sample size is large enough for the CLT to apply.
#Check the standard deviations to see if they were equal.
sd(MIDUS$HI[MIDUS$MSnew=="meaningful"],na.rm=T)
sd(MIDUS$HI[MIDUS$MSnew=="not meaningful"],na.rm=T)
#Since the sd were different for the two groups (62425.4 for the "meaningful" group and 53407.5 for the "not meaningful" group),
#I assume unequal variances in the two groups.
t.test(MIDUS$HI~MIDUS$MSnew,var.equal=TRUE)
#p-value <0.01, reject the null hypothsis. 95% CI is (-21591.0, -13246.9).
#5. Create plots to visualize the relationships
#a) visualize the relationship between gender and meaningfulness of society
#Since one data is quantitative and another is categorical, a side-by-side boxplot is the best plot to visualize their relationship.
boxplot(MIDUS$MS~MIDUS$SEXF,
xlab="Gender",ylab="Meaningfulness",
main="Relationship Between Gender and Meaningfulness")
#b)visualize the relationship between frequency of friend contact and the dichotomized response variable
#Since both datas are categorical, a side-by-side barplot is the best plot to visualize their relationship.
#Before ploting, we first include their relations in a table
table(MIDUS$FrndCF,MIDUS$MSnew)
#Obtain the margins and proportions for this table
addmargins(table(MIDUS$FrndCF,MIDUS$MSnew))
prop.table(table(MIDUS$FrndCF,MIDUS$MSnew),margin=2)
Frnd.MSnew.tab<-prop.table(table(MIDUS$FrndCF,MIDUS$MSnew),margin=2)
#Make the barplot
barplot(Frnd.MSnew.tab,
xlab="Meaningfulness",ylab="Proportion",
main="Relationship Between Frnd and (cat.)Meaningfulness",
beside=F)
#c) visualize the relationship between household income and meaningfulness of society
#Since both of the data are quantitative variables, a scatterplot is the best plot to visualize their relationship.
plot(x=MIDUS$HI, y=MIDUS$MS,
xlab="Household Income",ylab="Meaningfulness",
main="Relationship Between Income and Meaningfulness", pch = 20)
abline(m1, col = "red")
summary(m1)
7+2
29%%6
29%/%6
#increasing sequences
1:5
a<-1:100
mean(1:5)
sd(1:5)
c(1,2,4)
y<- c(1,2,4)
z<-rep(5,10)
z
f<- seq(1:5)
f
g<- seq(1,21, by=2)
g
x <- mean(c(2,4,6,8,10,100))
x <- mean(2,4,6,8,10,100)
x
x <- mean(c(2,4,6,8,10,100))
x
f<- seq(1:5)
f
#only show odd numbers
g<- seq(1,21, by=2)
g
z <- seq(1:9, 2)
z <- seq(1:9:2)
z <- seq(1:9, 2)
m <- seq(1:9, 2)
#get ten "5"
z<-rep(5,10)
z
y <- c(rep(4,3), seq(2:10,2))
z <- seq(1, 9, 2)
z
y <- c[rep(4,3), seq(2,10,2)]
y <- c(rep(4,3), seq(2,10,2))
y
c(seq(4,10,2),rep(8,7),seq(1:5))
M
#let g follows f
M <-c(seq(1:5),seq(1,21,2))
M
#get M twice
MM <- c(seq(1:5),seq(1,21,2),M)
MM
#choose a specific number from them
M[5]
#choose a specific number from them
M[6]
M[c(1,3,5)]
M[c(1,3,5,6)]
#
M[-c(1,3,5,6)]
M[-c(1:5)]
#Import data
setwd("/Users/yumengxu/Desktop/QTM150")
temp <-read.csv(temperature.csv)
temp <-read.csv("temperature.csv")
#Observing data
names(temp)
dim(temp)
summary(temp)
str(temp)
head(temp)
#Extracting
temp[1,2]
temp[1:5,2]
#Plot
#one var: dotplot, histogram, boxplot, barplot(categorical)
#two var: scatterplot(2 quant.), side-by-side boxplot(quant.and cate.)
temp$City
hist(temp$Jan.Temp, x="Jan.Temp", y="City")
hist(temp$Jan.Temp)
plot(temp$Jan.Temp, temp$Jul.Temp)
#show names in the dataset
temp$City
vehicles <- c("cars", "trains", "airplanes")
calories2 <- c(2330, 3800, 2520, 2750, 1420)
mean(calories2(2:4))
mean(calories2[2:4])
mean(calories2[c(2:4)])
mean(calories2[c(2:4)])
c(mean(calories2(2:4)))
c(mean(calories2[2,4]))
mean(calories2[c(2,4)])
c(mean(calories2(2:4)))
mean(calories2[c(2,4)])
calories <- c(2430, 3250, 1820, 1750, 3420)
sum(calories[1],calories2[1])
calories(calories>2500)
calories[calories>2500]
coffee_week1 <- c(1, 2, 1, 3, 2)
coffee_week2 <- c(1, 0, 2, 4, 0)
coffee <- matrix(c(coffee1,coffee2), byrow = TRUE, nrow=2)
coffee1 <- c(1, 2, 1, 3, 2)
coffee2 <- c(1, 0, 2, 4, 0)
coffee <- matrix(c(coffee1,coffee2), byrow = TRUE, nrow=2)
coffee
coffee_week3 <- c(0, 0, 0, 3, 1)
coffee_week4 <- c(1, 0, 0, 1, 2)
coffee_week1 <- c(1, 2, 1, 3, 2)
coffee_week2 <- c(1, 0, 2, 4, 0)
feb_coffee <- matrix(c(coffee_week1,coffee_week2,coffee_week3,coffee_week4),byrow=TRUE,nrow=4)
feb_coffee
Days_of_Week <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday")
colnames(feb_coffee) <- Days_of_Week
feb_coffee
total_coffee_by_week <- rowSums(feb_coffee)
total_coffee_by_week
c(mean(calories2(2:4)))
c(mean(calories2[2,4]))
c(1,2,4)
y<- c(1,2,4)
f<- seq(1:5)
f
#get ten "5"
z<-rep(5,10)
z
#only show odd numbers
g<- seq(1,21, by=2)
g
g<- seq(1,21,2)
g
#let g follows f
M <-c(seq(1:5),seq(1,21,2))
M
#choose a specific number from them
M[6]
M[c(1,3,5,6)]
#show all the other ones EXCEPT 1,3,5,6
M[-c(1,3,5,6)]
z <- seq(1:9, 2)
z <- seq(1,9,2)
z
m <- seq(1:9, 2)
y <- c[rep(4,3), seq(2,10,2)]
y <- c(rep(4,3), seq(2,10,2))
y
temp <-read.csv("temperature.csv")
#Import data
setwd("/Users/yumengxu/Desktop/QTM150")
temp <-read.csv("temperature.csv")
#Extracting
#Heading is not data, does not count as a line
temp[1,2] #the first line, second column
temp[1:5,2] #use sequences
###VECTOR
numeric_vector <- c(1, 2, 3)
# Which days did you make money on poker?
selection_vector <- poker_vector > 0
poker_vector <- c(140, -50, 20, -120, 240)
roulette_vector <- c(-24, -50, 100, -350, 10)
days_vector <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday") #assign days as name
names(poker_vector) <- days_vector
names(roulette_vector) <- days_vector
# Which days did you make money on poker?
selection_vector <- poker_vector > 0
# Select from poker_vector these days
poker_winning_days <- poker_vector[selection_vector]
poker_winning_days
poker_winning_days <- poker_vector>0
poker_winning_days
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
matrix (1:9, byrow=TRUE, nrow=3) #by column then byrow = FALSE
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)
# Create box_office
box_office <- c(new_hope, empire_strikes, return_jedi)
# Construct star_wars_matrix
star_wars_matrix <- matrix(box_office, byrow=TRUE, nrow=3)
star_wars_matrix
#FACTORS
sex_vector <- c("Male", "Female", "Female", "Male", "Male")
sex_vector
#First create a vector that contains all the observations that belong to a number of categories
#convert the vector to a factor
factor_sex_vector <-factor(sex_vector)
factor_sex_vector
#display cars dataset
cars
#learn about cars dataset
?cars
cars_dist_sorted <- cars[order(cars$dist),]
cars_dist_sorted
cars_dist_sorted <- rowSums(dist_order)
cars_dist_sorted
cars_dist_sorted <- cars[order(cars$dist),]
cars_dist_sorted_new <- rowSums(dist_order)
cars_dist_sorted
cbind(cars_dist_sorted, dist_orde)
cbind(cars_dist_sorted, dist_order)
dist_order <- c(1:50)
cbind(cars_dist_sorted, dist_order)
cars[,speed<20]
subset[cars, dist<20]
subset(cars, speed<20)
getwd
getwd()
install.packages("cars")
library(cars)
library(CARS)
install.packages("CARS")
library("CARS", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
Duncan
knitr::opts_chunk$set(echo = TRUE)
detach("package:CARS", unload=TRUE)
library("CARS", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
Duncan
install.packages("car")
library("car", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
detach("package:CARS", unload=TRUE)
detach("package:car", unload=TRUE)
library("car", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
detach("package:car", unload=TRUE)
detach("package:carData", unload=TRUE)
library("car", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
install.packages("car")
library("car", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
Duncan
￥Duncan
?Duncan
Duncan
library(readxl)
NLP_QC_NLP_SCNLP_input_mergedCoNLL_police_FORM <- read_excel("Desktop/QSS446/NLP/output/NLP_QC_NLP_SCNLP_input_mergedCoNLL_police_FORM.csv")
View(NLP_QC_NLP_SCNLP_input_mergedCoNLL_police_FORM)
setwd("/Users/yumengxu/Desktop/QTM150")
polic_form <-read.csv("NLP_QC_NLP_SCNLP_input_mergedCoNLL_police_FORM的副本.csv")
hist(polic_form$SEARCHED.TOKEN.POSTAG)
barplot(polic_form$SEARCHED.TOKEN.POSTAG)
barplot(polic_form$SEARCHED.TOKEN.POSTAG)
library("car", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
Duncan
#Check Dataset
?Duncan
#Q1 a) How many observations in Duncan?
dim(Duncan)
#Q1 b) Visualize the relationship of income.
#Since type of occupation is a categorical variable and income is a quant variable
#I use a side-by-side boxplot.
boxplot(Duncan$type,Duncan$income)
#Q1 b) Visualize the relationship of income.
#Since type of occupation is a categorical variable and income is a quant variable
#I use a side-by-side boxplot.
boxplot(Duncan$income,Duncan$type)
#Q1 b) Visualize the relationship of income.
#Income is a quantative variable, so I use a histogram.
hist(Duncan$income)
source('~/.active-rstudio-document')
#Check Dataset
?Duncan
#Q1 c) Visualize the relationship between income and prestige
#I use a scatterplot to visulize these two quantative variables.
plot(Duncan$prestige,Duncan$income)
fruitfly <- read.csv("fruitfly.csv")
#Q2 a) How many observations in each type of fruitflies?
#Import data
setwd("/Users/yumengxu/Desktop/QTM150")
fruitfly <- read.csv("fruitfly.csv")
summary(fruitfly)
#a) How many observations in each type of fruitflies?
dim(fruitfly)
#There are 125 observations in the data.
fruitfly
#a) How many observations in each type of fruitflies?
dim(fruitfly$type)
#b) Average lifespan in the type 3 group
subset(fruitfly,subset = type=3)
fruitfly$type[3]
#b) Average lifespan in the type 3 group
#create a new datdaset that only contains type 3 group
subset3<-subset(fruitfly,type=3)
#Calculate its mean.
mean(subset3$lifespan)
#b) Average lifespan in the type 3 group
#create a new datdaset that only contains type 3 group
subset3<-subset(fruitfly,type=3)
#Calculate its mean.
mean(subset3$lifespan)
source('~/.active-rstudio-document')
knitr::opts_chunk$set(echo = TRUE)
#Question 1
#Check Dataset
?Duncan
Duncan
#a) How many observations in Duncan?
dim(Duncan)
#There are 45 observations in the data.
#b) Visualize the relationship of income.
#Income is a quantative variable, so I use a histogram.
hist(Duncan$income)
#The graph is not symmetric, since it has several peaks.
#The center of the distribution is located between 40-50.
#The observations cover a wide range, so the spread is large.
#c) Visualize the relationship between income and prestige
#I use a scatterplot to visulize these two quantative variables.
plot(Duncan$prestige,Duncan$income)
#The graph shows that income is directly proportional to the prestige of occupation.
#The more prestige one's occupation is, the more income he/she will earn.
#Question 2
#Import data
setwd("/Users/yumengxu/Desktop/QTM150")
fruitfly <- read.csv("fruitfly.csv")
#a) How many observations in each type of fruitflies?
dim(fruitfly)
#There are 5 observations in each type of fruitflies.
#b) Average lifespan in the type 3 group
#create a new datdaset that only contains type 3 group
subset3<-subset(fruitfly,type=3)
#Calculate its mean.
mean(subset3$lifespan)
#The average lifespan is 57.44.
library(car)
orange
Orange
?Orange
str(Orange)
mean(subset(fruitfly,type==3)$lifespan)
#Question 2
#Import data
setwd("/Users/yumengxu/Desktop/QTM150")
fruitfly <- read.csv("fruitfly.csv")
mean(subset(fruitfly,type==3)$lifespan)
#b) Average lifespan in the type 3 group
#create a new datdaset that only contains type 3 group
subset3<-subset(fruitfly,type=3)
#Calculate its mean.
mean(subset3$lifespan)
#b) Average lifespan in the type 3 group
#create a new datdaset that only contains type 3 group
subset3<-subset(fruitfly,type==3)
#Calculate its mean.
mean(subset3$lifespan)
#a) How many observations in each type of fruitflies?
str(fruitfly)
#a) How many observations in each type of fruitflies?
dim(fruitfly$type)
#a) How many observations in each type of fruitflies?
fruitfly$type
#a) How many observations in each type of fruitflies?
hist(fruitfly$type)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
gss%>%
group_by(year)%>%  ##2014 is the latest year
summarise(largest=partyid[which.max(percent)],
least=partyid[which.min(percent)])##find the least and largest religion for each year
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
setwd("/Users/yumengxu/Desktop/QTM150")
gss <-read.csv("gssexam.csv")
gss%>%
group_by(year)%>%  ##2014 is the latest year
summarise(largest=partyid[which.max(percent)],
least=partyid[which.min(percent)])##find the least and largest religion for each year
names(gss) #the column name showing marital status is called "marital"
levels(gss$marital) #marrided respondents would answer "Married"
percent=sum(gss$marital=="Married", na.rm = T)/length(gss$marital)*100 #calculate the percent and save the answer to "percent"
percent #show the result
#Percent of married respondents is 47.09%
gss%>%
group_by(year)%>%  ##2014 is the latest year
summarise(largest=partyid[which.max(percent)],
least=partyid[which.min(percent)])##find the least and largest religion for each year
gss%>%
filter(year==2014)%>%
group_by(partyid)%>%
summarise(percent)
gss%>%
filter(year==2014)%>%
group_by(partyid)%>%
summarise(sum(gss$marital=="Married", na.rm = T)/length(gss$marital)*100)
gss%>%
filter(year==2014)%>%
group_by(partyid)%>%
summarise(percent=sum(marital=="Married")/sum(!is.na(marital))*100)
#Ho: u=u0;   Ha: u>u0.
t.test(y,mu=100,alterntive="greater",conf.level=0.90)
#####################
# Problem 2
#####################
y <- c(105, 69, 86, 100, 82, 111, 104, 110, 87, 108, 87, 90, 94, 113, 112, 98, 80, 97, 95, 111, 114, 89, 95, 126, 98)
#Ho: u=u0;   Ha: u>u0.
t.test(y,mu=100,alterntive="greater",conf.level=0.90)
#Ho: u=u0;   Ha: u>u0.
t.test(y,mu=100,alterntive="greater",conf.level=0.95)
ggplot(expenditure, aes(expenditure$X1, expenditure$Y))+
geom_point()+
labs(x="Personal Income",y="Expenditure",title="Figure 1:Personal Income and Educational Expenditure")
#The graph shows that as the per capita personal income increases, per capita expenditure on public education increases.
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
#####################
# Problem 3
#####################
#Import the data
expenditure <- read.table("expenditure.txt", header=T)
# set working directory
setwd("~/Documents/GitHub/QTM200Spring2020/problem_sets/PS1")
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
#####################
# Problem 3
#####################
#Import the data
expenditure <- read.table("expenditure.txt", header=T)
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
#Plot the relationships among Y, X1, X2, and X3.
ggplot(expenditure, aes(expenditure$X1, expenditure$Y))+
geom_point()+
labs(x="Personal Income",y="Expenditure",title="Figure 1:Personal Income and Educational Expenditure")
ggplot(expenditure, aes(expenditure$X2, expenditure$Y))+
geom_point()+
labs(x="People under 18 yrs old",y="Expenditure",title="Figure 2:People under 18 and Educational Expenditure")
ggplot(expenditure, aes(expenditure$X3, expenditure$Y))+
geom_point()+
labs(x="People in urban area",y="Expenditure",title="Figure 3:People in urban area and Educational Expenditure")
#Plot the relationship between Y and Region
boxplot(expenditure$Y~expenditure$Region)
#Plot the reltionship between Y and X1.
ggplot(expenditure, aes(x=expenditure$X1,y=expenditure$Y))+
geom_point(aes(color=expenditure$Region))+
scale_color_gradient(name="Region", low="blue", high="orange")+
labs(x="Personal Income",y="Expenditure")
sample_sd <- sd (y)
